{"version":3,"file":"template.js","sourceRoot":"","sources":["template.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA,sCAOuB;AAEvB,iDAAiD;AACjD,iCAAqC;AACrC,0CAA4C;AAE/B,QAAA,yBAAyB,GAAG,qBAAqB;AAE9D,IAAA;;;qBA9BA;IAkCC,CAAA;AAJY,gCAAU;;IAgBnB,6BAAoB,WAA6B,EACrC,gBAAkC,EAC1C,YAA4B,EACpB,QAAmB;QAHX,gBAAW,GAAX,WAAW,CAAkB;QACrC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAElC,aAAQ,GAAR,QAAQ,CAAW;QAC3B,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KAClC;0BAVG,6CAAY;uBAAC,KAAK;YAClB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;;;;;IACrB,CAAC;IAUF,oCAAM,GAAN,UAAO,UAAsB;QAA7B,iBA4BC;QA3BG,IAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,EAAE;YACvE,WAAW,EAAE,UAAU,CAAC,KAAK;YAC7B,KAAK,EAAE,UAAU,CAAC,KAAK;SAC1B,CAAC,CAAC;QACH,IAAI,SAAS,GAAG,kBAAU,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QACjD,EAAE,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC;YACvB,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,OAAO;gBAChC,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;aACjD,CAAC,CAAC;SACN;;;QAGD,SAAS,CAAC,eAAe,CAAC,EAAE,CAAC;;QAE7B,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,OAAO;YAChC,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,KAAK,CAAC,CAAC,CAAC,CAAC;gBACzB,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAE,iCAAyB,CAAC,CAAC;aAC9D;YAED,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,UAAU,EAAE,UAAC,EAAE,EAAE,MAAM;gBACvC,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACzC,SAAS,CAAC,OAAO,EAAE,CAAC;iBACvB;aACJ,CAAC,CAAC;SACN,CAAC,CAAC;QAEH,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;KAC9B;;gBA7CJ,gBAAS,SAAC;oBACP,QAAQ,EAAE,cAAc;iBAC3B;;;;gBApBG,kBAAW;gBACX,uBAAgB;gBAKX,8BAAc;gBAHnB,gBAAS;;;iCAmBR,YAAK;;8BAxCV;;AAuCa,kDAAmB;;;;;gBA6C/B,eAAQ,SAAC;oBACN,YAAY,EAAE,CAAC,mBAAmB,CAAC;oBACnC,OAAO,EAAE,CAAC,mBAAmB,CAAC;iBACjC;;2BAvFD;;AAwFa,4CAAgB","sourcesContent":["/*!\n * devextreme-angular\n * Version: 18.1.6\n * Build date: Wed Sep 05 2018\n *\n * Copyright (c) 2012 - 2018 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-angular\n */\n\n/* tslint:disable:use-input-property-decorator */\r\n\r\nimport {\r\n    Directive,\r\n    NgModule,\r\n    TemplateRef,\r\n    ViewContainerRef,\r\n    Input,\r\n    Renderer2\r\n} from '@angular/core';\r\n\r\nimport { DxTemplateHost } from './template-host';\r\nimport { getElement } from './utils';\r\nimport * as events from 'devextreme/events';\r\n\r\nexport const DX_TEMPLATE_WRAPPER_CLASS = 'dx-template-wrapper';\r\n\r\nexport class RenderData {\r\n    model: any;\r\n    index: number;\r\n    container: any;\r\n}\r\n\r\n@Directive({\r\n    selector: '[dxTemplate]'\r\n})\r\nexport class DxTemplateDirective {\r\n    @Input()\r\n    set dxTemplateOf(value) {\r\n        this.name = value;\r\n    };\r\n    name: string;\r\n\r\n    constructor(private templateRef: TemplateRef<any>,\r\n        private viewContainerRef: ViewContainerRef,\r\n        templateHost: DxTemplateHost,\r\n        private renderer: Renderer2) {\r\n        templateHost.setTemplate(this);\r\n    }\r\n\r\n    render(renderData: RenderData) {\r\n        let childView = this.viewContainerRef.createEmbeddedView(this.templateRef, {\r\n            '$implicit': renderData.model,\r\n            index: renderData.index\r\n        });\r\n        let container = getElement(renderData.container);\r\n        if (renderData.container) {\r\n            childView.rootNodes.forEach((element) => {\r\n                this.renderer.appendChild(container, element);\r\n            });\r\n        }\r\n        // =========== WORKAROUND =============\r\n        // https://github.com/angular/angular/issues/12243\r\n        childView['detectChanges']();\r\n        // =========== /WORKAROUND =============\r\n        childView.rootNodes.forEach((element) => {\r\n            if (element.nodeType === 1) {\r\n                this.renderer.addClass(element, DX_TEMPLATE_WRAPPER_CLASS);\r\n            }\r\n\r\n            events.one(element, 'dxremove', ({}, params) => {\r\n                if (!params || !params._angularIntegration) {\r\n                    childView.destroy();\r\n                }\r\n            });\r\n        });\r\n\r\n        return childView.rootNodes;\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    declarations: [DxTemplateDirective],\r\n    exports: [DxTemplateDirective]\r\n})\r\nexport class DxTemplateModule { }\r\n"]}